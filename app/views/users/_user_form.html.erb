<%= form_for(@user, html: {class: "form-horizontal", role: "form"}, local: true) do |f| %>
  
  <%= render 'layouts/errors' %>
  
  <div class="form-row">
    <div class="form-group col-4">
      <%= f.label "Фамилия" %>
      <%= f.text_field :last_name, class: "form-control", id: "last_name" %>
    </div>
    <div class="form-group col-4">
      <%= f.label "Имя" %>
      <%= f.text_field :first_name, class: "form-control", id: "first_name" %>
    </div>
    <div class="form-group col-4">
      <%= f.label "Отчество" %>
      <%= f.text_field :middle_name, class: "form-control", id: "middle_name" %>
    </div>
  </div>
  
  <div class="form-row">
    <div class="form-group col-4">
      <%= f.label "Email" %>
      <%= f.text_field :email, class: "form-control", id: "email" %>
    </div>
    <div class="form-group col-4">
      <%= f.label "Пароль" %>
      <%= f.password_field :password, class: "form-control", id: "password", placeholder: "******" %>
    </div>
    <div class="form-group col-4">
      <%= f.label "Подтверждение пароля" %>
      <%= f.password_field :password_confirmation, class: "form-control", id: "password_confirmation", placeholder: "******" %>
    </div>
  </div>
  
  <% if current_user.role_key == 'super' %>
  <div class="form-row">
    <div class="form-group col-4">
      <%= f.label "SIP номер" %>
      <%= f.text_field :sip_number, class: "form-control", id: "sip_number" %>
    </div>
    <div class="form-group col-4">
      <%= f.label "Роль" %>
      <%= f.select :role_id, options_for_select(Role.all.collect{|r| [r.name, r.id]}, @user.role_id), {}, class: "form-control", id: "role_id" %>
    </div>
    <div class="form-group col-4">
      <%= f.label "Вход разрешен" %>
      <%= f.select :activated, options_for_select([['Да', true],['Нет', false]], @user.activated), {}, class: "form-control", id: "activated" %>
    </div>
  </div>
  <% end %>
  
  <div class="text-center">
    <%= link_to(users_path, class: "btn btn-warning btn-label-left") do %>
      <span><i class="fas fa-ban"></i></span>
      Отмена
    <% end %>
    <%= button_tag(type: 'submit', class: "btn btn-primary btn-label-left") do %>
      <span><i class="far fa-check-circle"></i></span>
      Сохранить
    <% end %>
  </div>
  
<% end %>
